<h2>애플리케이션 성능 분석</h2>
<div class="well">애플리케이션 테스트를 통하여 애플리케이션의 성능을 분석하고, 성능 저하 요인을 발견할 수 있다.</div>


<h3>애플리케이션 성능 점검의 개요</h3>
<p>애플리케이션 성능이란 사용자의 요구 기능을 해당 애플리케이션이 최소의 자원을 사용하면 서 얼마나 빨리, 많은 기능을 수행하는가를 육안 또는 도구를 통하여 점검하는 것을 말한다.</p>

<h4>1. 애플리케이션의 성능을 측정하기 위한 지표</h4>
<h5>처리량(Throughput)</h5>
<p>애플리케이션이 주어진 시간에 처리할 수 있는 트랜잭션의 수로, 웹 애플리케이션의 경우 시간당 페이지 수로 표현하기도 한다.</p>
<h5>응답 시간(Response Time)</h5>
<p>사용자 입력이 끝난 후, 애플리케이션의 응답 출력이 개시될 때까지의 시간으로, 웹 애플리케이션의 경우 메뉴 클릭 시 해당 메뉴가 나타나기까지 걸리는 시간을 말한다.</p>
<h5>경과 시간(Turnaround Time)</h5>
<p>애플리케이션에 사용자가 요구를 입력한 시점부터 트랜잭션 처리 후 그 결과의 출력 이 완료할 때까지 걸리는 시간을 말한다.</p>
<h5>자원 사용률(Resource Usage)</h5>
<p>애플리케이션이 트랜잭션 처리하는 동안 사용하는 Cpu 사용량, 메모리 사용량, 네트워 크 사용량을 말한다.</p>

<h4>2. 유형별 성능 분석 도구</h4>
<p>성능 분석 도구는 애플리케이션의 성능을 점검하는 도구와 시스템 자원 사용량을 모니터 링하는 도구로 분류할 수 있다.</p>
<h5>성능/부하/스트레스(Performance/Load/Stress) 점검 도구</h5>
<p>애플리케이션의 성능 점검을 위해 가상의 사용자를 점검 도구 상에서 인위적으로 생 성한 뒤, 시스템의 부하나 스트레스를 통해 성능 측정 지표인 처리량, 응답 시간, 경과 시간 등을 점검하기 위한 도구이다.</p>
<h5>모니터링(Monitoring) 도구</h5>
<p>모니터링 도구는 애플리케이션 실행 시 자원 사용량을 확인하고 분석 가능한 도구로, 성능 모니터링, 성능 저하 원인분석, 시스템 부하량 분석, 장애 진단, 사용자 분석, 용량 산정 등의 기능을 제공하여, 시스템의 안정적 운영을 지원하는 도구이다.</p>


<h3>2. 애플리케이션 성능 저하 원인 분석</h3>
<p>애플리케이션의 성능이 저하되는 원인은 크게 DB 연결 및 쿼리 실행, 내부적인 요인과 외 부적인 요인, 그리고 기타 환경 설정이나, 네트워크 등의 문제로 구분할 수 있다.</p>
<h4>1. 데이터베이스 연결 및 쿼리 실행시 발생되는 성능 저하 원인</h4>
<p>일반적으로 DB에 연결하기 위해 Connection 객체를 생성하거나 쿼리를 실행하는 애플리 케이션 로직에서 성능 저하 또는 장애가 많이 발견된다.</p>

<h5>데이터베이스 락(DB Lock)</h5>
<p>대량의 데이터 조회, 과도한 업데이트, 인덱스 생성 시 발생하는 현상이며, 요청한 작업은 Lock의 해제 시까지 대기하거나 타임아웃된다.</p>
<h5>불필요한 데이터베이스 페치(DB Fetch)</h5>
<p>실제 필요한 데이터보다 많은 대량의 데이터 요청이 들어올 경우, 또는 결과 세트에서 마지막 위치로 커서를 옮기는 작업이 빈번한 경우 응답 시간 저하 현상이 발생한다.</p>
<h5>연결 누수(Connection Leak) / 부적절한 커넥션 풀 크기(Connection Pool Size)</h5>
<ul>
    <li>연결 누수(Connection Leak)
        <ul>
            <li>DB 연결과 관련한 JDBC 객체를 사용 후 종료하지 않을 경우 발생한다.</li>
        </ul>
    </li>
    <li>부적절한 커넥션 풀 크기(Connection Pool Size)
        <ul>
            <li>실제 필요한 데이터보다 많은 대량의 데이터 요청이 들어올 경우, 또는 결과 세트에서 마지막 위치로 커서를 옮기는 작업이 빈번한 경우 응답 시간 저하 현상이 발생한다.</li>
        </ul>
    </li>
    <li>연결 누수(Connection Leak) / 부적절한 커넥션 풀 크기(Connection Pool Size)
        <ul>
            <li>연결 누수(Connection Leak) : DB 연결과 관련한 JDBC 객체를 사용 후 종료하지 않을 경우 발생한다.</li>
            <li>부적절한 커넥션 풀 크기(Connection Pool Size) : 너무 작거나 크게 설정한 경우 성능 저하 현상이 발생할 가능성이 있다.</li>
        </ul>
    </li>
    <li>기타
        <ul>
            <li>트랜잭션이 확정(Commit)되지 않고 커넥션 풀에 반환되거나, 잘못 작성된 코드로 인해 불필요한 Commit가 자주 발생하는 경우 성능이 저하될 가능성이 존재한다.</li>
        </ul>
    </li>
</ul>


<h4>2. 내부 로직으로 인한 성능 저하 원인</h4>
<h5>웹 애플리케이션의 인터넷 접속 불량</h5>
<p>웹 애플리케이션의 실행 시 인터넷 접속 불량으로 서버 소켓(Server Socket) 쓰기는 지 속되나, 클라이언트에서 정상적 읽기가 수행되지 않아 성능이 저하될 가능성이 있다.</p>
<h5>특정 파일의 업로드, 다운로드로 인한 성능 저하</h5>
<p>대량의 파일을 업로드하거나 다운로드할 경우 처리시간이 길어져 애플리케이션의 성 능이 저하될 가능성이 있다.</p>
<h5>정상적으로 처리되지 않은 오류 처리로 인한 성능 저하</h5>
<p>오류 처리 로직과 실제 처리 로직 부분을 분리하지 않고 코딩하거나 예외가 발생할 경우에 제대로 처리되지 않아 행이 걸리는 상황이 발생하여 성능이 저하될 가능성이 있다.</p>

<h4>3. 외부 호출(HTTP, 소켓 통신)로 인한 성능 저하 원인</h4>
<p>임의의 트랜잭션이 수행되는 동안 외부 트랜잭션(외부 호출)이 장시간 수행되거나, 타임아 웃이 일어나는 경우 성능 저하 현상이 발생할 수 있다.</p>

<h4>4. 잘못된 환경 설정이나 네트워크 문제로 인한 성능 저하 원인</h4>
<h5>환경 설정으로 인한 성능 저하</h5>
<p>스레드 풀(Thread Pool), 힙 메모리(Heap Memory)의 크기를 너무 작게 설정하면 Heap Memory Full 현상 발생으로 성능이 저하될 가능성이 있다.</p>
<h5>네트워크 장비로 인한 성능 저하</h5>
<p>라우터, L4 스위치 등 네트워크 관련 장비 간 데이터 전송 실패 또는 전송 지연에 따 른 데이터 손실 발생 시 애플리케이션의 성능 저하 또는 장애가 발생할 수 있다.</p>